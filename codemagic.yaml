# Automatically generated on 2022-12-19 UTC from https://codemagic.io/app/5fb29cea6050966c26cb0529/settings
# Note that this configuration is not an exact match to UI settings. Review and adjust as necessary.

workflows:
  to-do--build:
    name: To do  build
    max_build_duration: 60
    environment:
      vars:
        FCI_KEYSTORE_PATH: /tmp/keystore.keystore
        FCI_KEYSTORE: Encrypted(Z0FBQUFBQmpvTkM5NW9DbGF6elJxS1hYb2V0UDRwbkJIQzNsRDQtdl8wbFc5TWpsaVh3Y2lZRHFEQldDNFcyaWhqRWMwRE1IZTRic3Y3LXRZcTUzUUd1YjVsdGRic3VDWkM0VDc3a2FUQUlrd0lhTXc3MmxSdnEzWk52Q0U5R2gwMEc2M3dueDBnbldxTk5rb2tWdHA1cVNvWk9SRGtKNnRCLWpNb2JQQ2ZPZG5aSW1SWVAxQlZIS1BUU0VidkZscC1QYlJHNGFzZFU1aVQ3Y0x1dUNXbk4wMVItZERzMWJRaFN2RnNfMWRCcExNSy05Rkp1VmFfTy1laEtaV0VJZ0FaODhhZ0NfZktyQjR0ZEVRV095eWdkcG9MNk5VYmt6Z3MwY3FnZ1ZUM2g2ZXBQMk1YcDBsRXBTUG1oSlZJWWhGNG94NlBQcUw1a1FHazgzbEZUWmE2SElHQVBNZmo3R01rSFpCZExhaWxpY1UwSjl4OVFIaDktVnRwdk9sODhlODl5WVZNclJXTzMwRS1UN2E3dlVfZlFFSDVrYk81U04yeVl2cTBEUUNFaXR2LUtIcXlfMjd0V2NPX0pHZ3NFcGx1WjVabmF1ckFzMnFMZmFDUktKZUUtb3lwSUc0MnRTQW9yXy0ydEdoYi1hejRUSVRNenNHNFQ2dXZVU2t1TVNkNVpWTlhpbDgtUzJJc3FsbFdnalAxSzdOWDRnVklyWnI3bmdKaEtGT3Y0ckNqdExTb0czUndLbG9NUWh1aHRLUFZtTzhBd09lNnJHNmJaNEp3ZklPcDR4S3hTU19Ia01jSS14R05XUEpvaW0teGhyemdnQ3NsSl9ZeTdCdEtKaWh4djE1ZHJuYUR4RUVEM1N5Z3ZSRDRCeFBZbmhtYnZ5aXBrcWUtOGp5aTBTc0NsM0w5SFJKa0xQc3JKQTVsVWYzSDlmbml0MG4yeHlubk5LRjBBcGVlSVJRR0NkMUF2TEhKSy01ZE4yVFN3cWlDWDRMS3F1dkVUWWdWcEk0bjdsNVp2MFhoN3ZWN0NpaExWcDFSVGNNcEJiRjZVX1U0dWFoekM0SEJHX21qSkRwUmc1VHA2cVZwRDNUVy1RV1FmUTU5NnVGZk81RXVRQ1dYcUkwVHpCcElJTU5vM1pjS1RsTUhNLVZTcmlzNmJNeEp4NTI5dWpkdDhZaHhHRVdnNHNJbHhKR1JlREYtMEJ4dVVyS3ZyT3NBWDBDeWdWNU9ENzRjSzJGbE4xakdOX1BBemVvMmdfQTR6dkxsR0hWTERYUTVxcEUzR2g3d29fWE93TmJEejRmTW15V0E1ZmwxRGVHQXd1d0RTUlFsdXA3Ry1KQVg5OFhNZjg1Z0lWeG0tWmhTQU1CeFBTbVBaYkREVnk1TENwblFrR09nWmVvTFBjRm12QmZKY1pCMXNZSGpabW1USzVYTlA5SHg1SFJsa1hoZU1mejZtOEJCLUhBVXN6Q2hDdnUwTFRnSlpkS0RMdWtNRHl6VFp1VTFJdFF1dTRINXpMaWdKazYyTUMyYVFoWjk4SHNPUDNZZUhXZkpYUnFiY1QyMGFmSkppQUM1MTBUZ1Zza2tzNTVXY3R6VU9uZ3FMYXBOSWpsd3haRW9sa19QMERnX244MlpQODgxVGZLaFNETHZlSUo2aUdPTUFNRmtpUS1TTk92VXNVa0NHWEtWTnN0cTc1czcwUlctTm5CWkdUVThWZ2Q2OTRGaThkcEtaWGhOcUQ5TFhqV0dtaTY3Zy1kQTYzTGwzdzVQSTNKVE9NZ2xNZm1TMVVSSUZ4anZUWnFuSUx5MzlETmNQcDFIWXlRVXJYSDBDZWRTM1oyOVlvVjhXTWlSU0lxdFhtZFhHNXQ1dTRaMEVxQm1xV2xvanZkWGpxeHJXdkZtMTczODA2aW9BZ2VqZVZVanhmcXozVDZtQV9fRzh4alIwSzYzZU95dlFoRjFtTTZLUmgwV3M3TDEyRVNpcmxtX2NaUTBZZ0xaYmtfMHZMTU5yWmdYS2lYdERWaThoOXltOEVCXzdKbDFXS0lKamp3WmZiekVjRzFSbW1TVmVVcjc4czhlOV94aDBCc082Z0VqQVJuLVFLc1pxeE8yVjVaeVJORnZuWDZHcUcwNkU4Nm1jUXNsZ21DUl9KSTl2eVBUcF9NU3Y0OU9mbjlqcm5yVkhWMnVxLXBzOURPTjlIV1V6Yl9VVHk4SVFWX0xMZmU3emREMWlhb21xZ2VVR2hZeG1jTC1icDZBTEowenB6ZlJFY1ZhRElrUlZSMnpEX21US1J0Mm5yTDA0Q3Z3aExOV3FzSjhuRVBZX2d0M0tKaEg0NWhneWtwbDY3VDJpUi1DRkRGcWdGM2xlNF9XUTdXVVlPRXpwU3JPcC1YUkxIbmtSbWFaN3gxZjJlUFlRU1cwckZnaWh3LWdrVmUyQ0p6SUE4U3paVnlTdlFyWm1EZmw2Tmdab3FHSjN2WVFHeTRfLS1DckQxVnhwU1ZXTlVMb0Z5N3p6SzNiOExDdkVSaDZUTl9CTVkzYVFBM1A5bERhWDE1MmhJVDBlMzA1d25pUXg4Y05vcWxwRmxGNkNUc3RKdXktSHFXQ2JLREpWcVR6R2xDZ2J0T2dGTU9rTmxIekJrWWxHTXdFdXJNalJTZkM3MlhITGQtRGtIOUYwaXNEVEZnTEtlVmlrUVBKUGJ0OHYwX243WkZ5ZzhPbXhDTVFJd1dLblR5cDNzN0dHOW94MjNIcmt6NGE5VHZGa2hXNE1tNTVBNDBpOG95ODVwSWtVc1NCT3J3RWRHQzN3RTgyMWtoNV9oTE1FcDFTZHVvU3I3c2FZRFdXNUEwYXBfTWMxS2JNeGZ6em5USFVfUUtFWW56MVM4czZkZTNybmVFRmNIV19YNlRObW5pLVg2WF9XWGlGbW8xVTJjblNKUDk1X2JIcXJjVWlISDB5Y0NoWWhPRkpsX3BKMlRKZ2F4YllvNTNpd0hQNEpsMDB2ZEtQb1l1MWtTUmxpZnlJM2tKcjZjaVZySzZibjZIRVN5UzIzcVI2OTdCY0lNOE56WXlSZVVGV3k5QkxRZnFRY3Z1eUpLaXRiN000Vk02cU9jTzZmQ0lMYlJtZ1l3SE54Ykx6Um0tM1Z5MTItajlHb3NkWTdmMVlVNXNzQ3FqTXRlUnZWUGl5Q09kYUNXaDBfTnAzT2VxUXQxNUJwNF9Xbi1SdG1Yb0YzUnRPTXB2WW84d29OcXlVekdBT0pyRk1Mam5kR2xWRFdWT3psbk1wUlJsVVpKZmlwM0k1bFJleXZqbWNjOTlkeks3VVFGZFppN21KUGpsZDFZeWRHQ292bEVBeWVidGR1WUhnRHU3ekVaUnlwbHpkbVlOYVJ2eXV5VmRXX2l2WngzMXdGeEtGOS1GNlltMWJHMlNmekJETUJSYmhETGJvQlhOcDVfV2xjVGlWS3ptU3FURzViYzVKaGRuSjdCamIwZnkybUo0eExxcE9GLS1CNzJQbUxRT0tHT01Kc204WE5mOFQ5ei0tWFBYWjRNczNpTFhmR2stMHFnWjVZVGJJRDhSbkEtaXJTVmdYT2VkOWQ1ajdBbVBUMjVoWlY0V0xUVEVmOGtpSHNzamE3aWVjakplVVpuVmR6VzFOLVdOUGZTNW81cVpha0M4elBqV1M2TUhhVGkyNGl1a3N5ejQ3UzlqbW8wTEJFZ3hOTG9FeW4xTmE5ZkJqWnRCaDZPM18yMGYydDMyODVFUU9uTTZGN05tSkVpdGxhU3NzNHpSdi1XYk15MjMzLTNOX2xtUzg0eHlVLTNNRHllUm52bm01c3JKUDZWVE1wWUdmamVrNUYyRzhKWXJyX0NjU0ExdkIwMVJiRUx3Z2RPVlNfS3ZsS2JrTXluUk5GYTZuMWtzYXh3Wmg5UE1DSzNnUHVvY2JiUHV0RUFjb2d1RzRSWXVBTHFoMVpmOVVTWk1lMzY3cFBHelU3VzNHTFBEXzg3aWRPRXlBTFRES1FHNzFGMTF2XzhwLW9nZWRNZGtEaC1WdDB6SVFFYzZsV29jblZkcEFjMDY1ak5EUm5ITHJaSWQtbjVncDdydmZFa1R6UUdSbEVKNkVNcXFFcTRDNmxGOTdXUkxGNF9pLXB6X2VIempOWS1BNWY5RmRDWmNZYTBlM2ZKdXE5SkFYdWtwMmI4OTcwX1JoclZleV9PUXN1Umk1TlF3cUZnLXVMWW1uSm1wN0NkS2lJU0NVOFA5cWp4bUpwdmZMV0ljWVlXa1dHLTM0VUVGZUJseU10UTRzRVk0VG5zRXZtd1FfSlJoaGFOV3ZabTVoQTNkak42TzV5cjlTOURPV0FkMGZLUjJIdzB6NlFsd0JEN3o0SzJacnN2UWloNzdiY1dJaklMaW1Ec3ZIemVzOVd1WnRQMEpFQUFNUmtQaG51U2pJYVVvNGZOSU5yVFo4TGszT1R4QkNXNW9rbjJnSTlXanQxazFrU2lvcTA3SHF5Tm44ZzZ6RGRVRm1wLXhtVVFYSkc2Zno3U3pqSlJveFQxVk12R3hQOVBMWEVRVFRpMnRYUnFqNFkxWXJiMGdkYTJMUlRkVjBqOVNQXzB0UFdsWTl6d3pyU25pVnFpVzN0NE5zQkpRcjhUTWZyQ0lMR0UxV1NFbzg2MndCbFFEUWlTTG5uSGx3R3UtaXpLdjF3TlJEdVdOV182U0tkaVhIZ0VRelZpM0xwSWpWZWRDSnNDS3I5OC1BUXlRV3pNME9pOWRxSGFHXzQ1SUR1RHlaWlpDQkpKYUVsYk5RaGxJTEtLWlBucDUzMnduQUV0a1lMNWJVN0gwN1JIWUdVX3MwTzBMYnV5cmhuakZDcFdINVJsMUNIdHloZFd3VndnOHVkXzluVWhlVXppY2Mxa0Y3TkdNZ1hWN1hodWFXUTdZcmxjbjE1UDFObFpzVTNNaHk4UlV6anJlMzlSLXNMR3V1OFViSUZDSnduc0pxeEJITktpWDdIa1lKeG1yemhtZm9Yd08yS3gzU1M3bWQwOExPRF92YjR0eE9NUWdpODFoME52eEVYNUt3bXJvbjdpZ0xkS2NKM3E2WUoyR1g4WGJ2NEtKb3ZhLThzMEE5ZkJMWWZha3hFdk5pbkxqVEQxMzFXVTBfVTBuSE9hSmprV0ZNWjB2MVV2T1ZZcHUzRkJ6Zmxtc3IwZk5WOW8tX3ktcTJ2V2xQM1czSnMxOHk5VUlNRTBPVjZxQXZXTnpZNDJTRzNLTFhKTnJ4TFg1dEhwUjg1X1g0WGlET0hMUEpsV25JRXNBQkVrbjRfWHNTUGxBWE9Jc0lvODg1UFBMZ2N0cVpwMzFDX1JMMDVaVUlLUHBGSDZhQ2FyNGQzVEdJTm5WYk5TMXBtRkQzS29ZV3dfMFUxazBqOVIzRWpjRUdnOTRIWmttSF94Y0pRLWpSZHQtQ3FFaVZXb1ZuZVBrb3luM1hLLW4xajR6ZVlGVHJ1MHR0RFN6Qnp2bjFwSnhBZWV6Sk9xVU53UVZuYVRUQ1lpbWtDZTJfRW16WVk0emliOTlFTElxLUFTLTVYZ0FvY1hDbDB2RjNENGI5VGRwV0R3MGE5aGMwQm1oaUxleUk1MWZacDlkQkc1dS1xNlA1ZzFfNEdjRE9KSDU1V1NERTZxX1VWeEpQa1FualBFUXBEalhBdFdULWN6NkdrQmtwbDF1SjdjX1lUdkkxa2UzXzZVak42b0t1N1FsT2t4VlVNTlR1VzhiMzJfaHU4cmhTTThVWnpLa0J6RW1vcUg0aEp0ZzJUZHZHYjVqUWw2LVlNVWVicUJ4QlBWS3EySDkzTWhobFJoZGZiblVqOXprU0tsa0VTMlM3Tk1oVGhUYU14b0w5bzJ2UTI2Q1lFMkk5OWRCa0lCNWRlNHo0X1hwYUQyV2lCcVFrVm9vUXVQVWZMWHpjdnFhWUczZk9HcHpfMnZRdEV5SHo0YVFFOXNJb2t4NGU0c2xGQnBxTFFTS29oRE1YMGZ2d3hiVlR1dEx2akkxMjhFUWk2MmpNR3JTVVVaNGRTYmhFUUNJQVpjbkdpR3FpZ0ZlS0VGTTE5RUR6VTE1Z2QxRXFpdXdKUTA4SDk5cFlfbThobFpNalRCTlNib2xYSkdKb1E2Y1VDNDN5d1k1YXVFMnRCdWFscXVwUzB1MHFoRmlrRFR0MDlLQ1J0Y2hVX05qWl9uYW9SeWVNbGNxRWZFQnVjbWJFcVc3WEpIM2REdE9DUUR0U0dpemdLMzZGND0=)
        FCI_KEYSTORE_PASSWORD: Encrypted(Z0FBQUFBQmpvTkM5NVlHLURXeUU1Q0d2NEp5RjJyejNIdUZHel9CeGVoam8xRHowZlo4UzB3M3c2R1c4cUctTWNOeW1tNGZNMERZMkhqT09aWDZrWnhTbGJFSFBRclBkYmc9PQ==)
        FCI_KEY_PASSWORD: Encrypted(Z0FBQUFBQmpvTkM5aWhUYUlIM3BxS1JkQjZUaEZ2WEd0UDNJbU41VVh2YW04UEUzeHZpWGYtVzA4bXNvdklzOUJ0NVoxcmVhZG9ySEkzTGxZQlVsUWVJa3NwMVdDMDlOR1E9PQ==)
        FCI_KEY_ALIAS: Encrypted(Z0FBQUFBQmpvTkM5cEkwVnZYYjFCNmRDUy05cXduYy1uYmhlcXhVM3E1bDRpeHV0c29walk0QW0zSXBMZlVXLV9xZE55Wi1LV1hYeDBmTkY5WkdjSzM5VEl0bHlyYWtHTWc9PQ==)
      flutter: stable
      xcode: latest
      cocoapods: default
    cache:
      cache_paths:
        - $HOME/.gradle/caches
        - $FLUTTER_ROOT/.pub-cache
    triggering:
      events:
        - push
        - pull_request
      branch_patterns:
        - pattern: '*'
          include: true
          source: true
      tag_patterns:
        - pattern: '*'
          include: true
    scripts:
      - |
        # set up key.properties
        echo $FCI_KEYSTORE | base64 --decode > $FCI_KEYSTORE_PATH
        cat >> "$FCI_BUILD_DIR/android/key.properties" <<EOF
        storePassword=$FCI_KEYSTORE_PASSWORD
        keyPassword=$FCI_KEY_PASSWORD
        keyAlias=$FCI_KEY_ALIAS
        storeFile=/tmp/keystore.keystore
        EOF
      - |
        # set up local properties
        echo "flutter.sdk=$HOME/programs/flutter" > "$FCI_BUILD_DIR/android/local.properties"
      - flutter packages pub get
      - flutter analyze
      - flutter test
      - flutter build appbundle --release
    artifacts:
      - build/**/outputs/apk/**/*.apk
      - build/**/outputs/bundle/**/*.aab
      - build/**/outputs/**/mapping.txt
      - '*.snap'
      - build/windows/**/*.msix
      - flutter_drive.log
    publishing:
      email:
        recipients:
          - thiagorocha503@gmail.com
      scripts:
        - jarsigner -verify -verbose -certs $FCI_BUILD_OUTPUT_DIR/*.aab
